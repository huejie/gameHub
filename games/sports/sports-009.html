<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>滑雪 - GameHub100</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); min-height: 100vh; display: flex; flex-direction: column; align-items: center; color: white; padding: 20px; }
        .header { text-align: center; margin-bottom: 15px; }
        h1 { font-size: 2rem; }
        canvas { border: 3px solid #fff; border-radius: 10px; }
        .stats { display: flex; justify-content: center; gap: 30px; margin: 15px 0; }
        .stat-value { font-size: 1.5rem; font-weight: bold; }
        button { padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; background: #e74c3c; color: white; font-weight: bold; }
        .back-link { position: fixed; top: 15px; left: 15px; color: white; text-decoration: none; }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-link">← 返回</a>
    <div class="header"><h1>⛷️ 滑雪</h1><p>左右键躲避障碍物！</p></div>
    <div class="stats">
        <div class="stat"><div class="stat-value" id="score">0</div><div>得分</div></div>
        <div class="stat"><div class="stat-value" id="best">0</div><div>最高</div></div>
    </div>
    <canvas id="canvas" width="300" height="400"></canvas>
    <div style="text-align:center;margin-top:15px;"><button onclick="startGame()">开始游戏</button></div>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let player = {x: 150, y: 350, size: 15};
        let obstacles = [], score = 0, best = 0, running = false, keys = {};
        
        function draw() {
            ctx.fillStyle = '#fff';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Snow texture
            ctx.fillStyle = '#f0f0f0';
            for (let i = 0; i < 50; i++) {
                ctx.fillRect((i * 47) % canvas.width, ((i * 31) + Date.now()/50) % canvas.height, 3, 3);
            }
            
            // Obstacles (trees)
            obstacles.forEach(o => {
                ctx.fillStyle = '#27ae60';
                ctx.beginPath();
                ctx.moveTo(o.x, o.y);
                ctx.lineTo(o.x - 15, o.y + 25);
                ctx.lineTo(o.x + 15, o.y + 25);
                ctx.closePath();
                ctx.fill();
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(o.x - 3, o.y + 25, 6, 10);
            });
            
            // Player
            ctx.fillStyle = '#e74c3c';
            ctx.beginPath();
            ctx.arc(player.x, player.y, player.size, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = '#2c3e50';
            ctx.fillRect(player.x - 12, player.y + 10, 24, 4);
        }
        
        function update() {
            if (!running) { draw(); requestAnimationFrame(update); return; }
            
            if (keys['ArrowLeft']) player.x -= 5;
            if (keys['ArrowRight']) player.x += 5;
            player.x = Math.max(20, Math.min(canvas.width - 20, player.x));
            
            if (Math.random() < 0.03) obstacles.push({x: 30 + Math.random() * 240, y: -30});
            
            obstacles.forEach(o => o.y += 4 + score / 100);
            obstacles = obstacles.filter(o => o.y < canvas.height + 50);
            
            for (let o of obstacles) {
                if (Math.abs(player.x - o.x) < 20 && Math.abs(player.y - o.y) < 25) {
                    running = false;
                    if (score > best) { best = score; document.getElementById('best').textContent = best; }
                    setTimeout(() => alert(`撞树了！得分: ${score}`), 100);
                }
            }
            
            score++;
            document.getElementById('score').textContent = score;
            draw();
            requestAnimationFrame(update);
        }
        
        document.addEventListener('keydown', e => keys[e.code] = true);
        document.addEventListener('keyup', e => keys[e.code] = false);
        
        function startGame() {
            player = {x: 150, y: 350, size: 15};
            obstacles = [];
            score = 0;
            running = true;
            document.getElementById('score').textContent = '0';
        }
        
        update();
    </script>
</body>
</html>