<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼¹è·³å°çƒ - GameHub100</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            padding: 20px;
        }
        .header { text-align: center; margin-bottom: 15px; }
        h1 { font-size: 2rem; }
        .game-container { position: relative; }
        canvas { border: 3px solid #6c5ce7; border-radius: 10px; display: block; }
        .stats { display: flex; justify-content: center; gap: 30px; margin: 15px 0; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.5rem; font-weight: bold; }
        .controls { display: flex; justify-content: center; gap: 10px; margin-top: 15px; }
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: #6c5ce7;
            color: white;
            font-weight: bold;
        }
        button:hover { background: #a29bfe; }
        .back-link { position: fixed; top: 15px; left: 15px; color: white; text-decoration: none; }
        .info { font-size: 0.9rem; opacity: 0.8; }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-link">â† è¿”å›</a>
    <div class="header">
        <h1>ğŸ€ å¼¹è·³å°çƒ</h1>
        <p class="info">ç§»åŠ¨é¼ æ ‡æ§åˆ¶æŒ¡æ¿ï¼Œä¸è¦è®©çƒè½ä¸‹</p>
    </div>
    <div class="stats">
        <div class="stat"><div class="stat-value" id="score">0</div><div>å¾—åˆ†</div></div>
        <div class="stat"><div class="stat-value" id="lives">3</div><div>ç”Ÿå‘½</div></div>
        <div class="stat"><div class="stat-value" id="level">1</div><div>ç­‰çº§</div></div>
    </div>
    <div class="game-container">
        <canvas id="gameCanvas" width="400" height="500"></canvas>
    </div>
    <div class="controls">
        <button onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
        <button onclick="pauseGame()">æš‚åœ</button>
    </div>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        let ball, paddle, bricks, particles;
        let score = 0, lives = 3, level = 1;
        let gameRunning = false, gamePaused = false;
        
        function init() {
            ball = {x: canvas.width/2, y: canvas.height - 60, radius: 8, dx: 4, dy: -4};
            paddle = {x: canvas.width/2 - 50, y: canvas.height - 20, width: 100, height: 12};
            bricks = [];
            particles = [];
            
            const rows = 4 + level;
            const cols = 8;
            const brickW = 45;
            const brickH = 18;
            const offsetX = 15;
            const offsetY = 40;
            
            const colors = ['#e74c3c', '#f39c12', '#f1c40f', '#2ecc71', '#3498db', '#9b59b6'];
            
            for (let r = 0; r < rows; r++) {
                for (let c = 0; c < cols; c++) {
                    bricks.push({
                        x: offsetX + c * (brickW + 5),
                        y: offsetY + r * (brickH + 5),
                        w: brickW,
                        h: brickH,
                        color: colors[r % colors.length],
                        alive: true
                    });
                }
            }
        }
        
        function createParticles(x, y, color) {
            for (let i = 0; i < 8; i++) {
                particles.push({
                    x, y, color,
                    dx: (Math.random() - 0.5) * 6,
                    dy: (Math.random() - 0.5) * 6,
                    life: 1
                });
            }
        }
        
        function update() {
            if (!gameRunning || gamePaused) return;
            
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Move ball
            ball.x += ball.dx;
            ball.y += ball.dy;
            
            // Wall collision
            if (ball.x - ball.radius < 0 || ball.x + ball.radius > canvas.width) {
                ball.dx *= -1;
            }
            if (ball.y - ball.radius < 0) {
                ball.dy *= -1;
            }
            
            // Paddle collision
            if (ball.y + ball.radius > paddle.y &&
                ball.x > paddle.x && ball.x < paddle.x + paddle.width) {
                ball.dy = -Math.abs(ball.dy);
                const hitPos = (ball.x - paddle.x) / paddle.width;
                ball.dx = (hitPos - 0.5) * 8;
            }
            
            // Ball falls
            if (ball.y > canvas.height) {
                lives--;
                document.getElementById('lives').textContent = lives;
                if (lives <= 0) {
                    gameRunning = false;
                    alert(`æ¸¸æˆç»“æŸï¼å¾—åˆ†: ${score}`);
                    return;
                }
                ball.x = canvas.width/2;
                ball.y = canvas.height - 60;
                ball.dx = 4;
                ball.dy = -4;
            }
            
            // Brick collision
            bricks.forEach(brick => {
                if (brick.alive &&
                    ball.x > brick.x && ball.x < brick.x + brick.w &&
                    ball.y > brick.y && ball.y < brick.y + brick.h) {
                    brick.alive = false;
                    ball.dy *= -1;
                    score += 10;
                    createParticles(brick.x + brick.w/2, brick.y + brick.h/2, brick.color);
                    document.getElementById('score').textContent = score;
                }
            });
            
            // Check win
            if (bricks.every(b => !b.alive)) {
                level++;
                document.getElementById('level').textContent = level;
                init();
                ball.dx *= 1.1;
                ball.dy *= 1.1;
            }
            
            // Draw bricks
            bricks.forEach(brick => {
                if (brick.alive) {
                    ctx.fillStyle = brick.color;
                    ctx.fillRect(brick.x, brick.y, brick.w, brick.h);
                }
            });
            
            // Draw paddle
            ctx.fillStyle = '#6c5ce7';
            ctx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
            
            // Draw ball
            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
            ctx.fill();
            
            // Draw particles
            particles = particles.filter(p => p.life > 0);
            particles.forEach(p => {
                p.x += p.dx;
                p.y += p.dy;
                p.life -= 0.05;
                ctx.globalAlpha = p.life;
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, 4, 4);
                ctx.globalAlpha = 1;
            });
            
            requestAnimationFrame(update);
        }
        
        canvas.addEventListener('mousemove', e => {
            const rect = canvas.getBoundingClientRect();
            const mouseX = (e.clientX - rect.left) * (canvas.width / rect.width);
            paddle.x = Math.max(0, Math.min(canvas.width - paddle.width, mouseX - paddle.width/2));
        });
        
        function startGame() {
            if (gameRunning) return;
            score = 0; lives = 3; level = 1;
            document.getElementById('score').textContent = '0';
            document.getElementById('lives').textContent = '3';
            document.getElementById('level').textContent = '1';
            init();
            gameRunning = true;
            gamePaused = false;
            update();
        }
        
        function pauseGame() {
            gamePaused = !gamePaused;
            if (!gamePaused) update();
        }
        
        init();
        ctx.fillStyle = '#1a1a2e';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#fff';
        ctx.font = '20px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('ç‚¹å‡»"å¼€å§‹æ¸¸æˆ"', canvas.width/2, canvas.height/2);
    </script>
</body>
</html>