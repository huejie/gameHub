<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ë∑≥Ê£ã - GameHub100</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%); min-height: 100vh; display: flex; flex-direction: column; align-items: center; color: white; padding: 20px; }
        .header { text-align: center; margin-bottom: 15px; }
        h1 { font-size: 2rem; }
        .board { display: grid; grid-template-columns: repeat(8, 45px); gap: 2px; background: #2d3436; padding: 10px; border-radius: 10px; }
        .cell { width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; border-radius: 5px; cursor: pointer; }
        .cell.light { background: #dfe6e9; }
        .cell.dark { background: #636e72; }
        .piece { width: 35px; height: 35px; border-radius: 50%; }
        .piece.red { background: #e74c3c; }
        .piece.black { background: #2d3436; border: 2px solid #fff; }
        .cell.selected .piece { box-shadow: 0 0 10px #f1c40f; }
        .cell.valid { background: #27ae60; }
        button { padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; background: #f1c40f; color: #2d3436; font-weight: bold; margin: 15px; }
        .back-link { position: fixed; top: 15px; left: 15px; color: white; text-decoration: none; }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-link">‚Üê ËøîÂõû</a>
    <div class="header"><h1>üî¥ Ë∑≥Ê£ã</h1><p>ÊñúÂêëÁßªÂä®ÔºåË∑≥ÂêÉÂØπÊñπÊ£ãÂ≠êÔºÅ</p></div>
    <div class="board" id="board"></div>
    <button onclick="newGame()">Êñ∞Ê∏∏Êàè</button>
    <script>
        let board = [], selected = null, turn = 'red';
        
        function newGame() {
            board = Array(8).fill(null).map(() => Array(8).fill(null));
            for (let r = 0; r < 3; r++) for (let c = 0; c < 8; c++) if ((r + c) % 2 === 1) board[r][c] = 'black';
            for (let r = 5; r < 8; r++) for (let c = 0; c < 8; c++) if ((r + c) % 2 === 1) board[r][c] = 'red';
            selected = null;
            turn = 'red';
            render();
        }
        
        function render() {
            const el = document.getElementById('board');
            el.innerHTML = '';
            for (let r = 0; r < 8; r++) {
                for (let c = 0; c < 8; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell ' + ((r + c) % 2 === 0 ? 'light' : 'dark');
                    if (selected && selected.r === r && selected.c === c) cell.classList.add('selected');
                    if (board[r][c]) {
                        const piece = document.createElement('div');
                        piece.className = 'piece ' + board[r][c];
                        cell.appendChild(piece);
                    }
                    cell.onclick = () => click(r, c);
                    el.appendChild(cell);
                }
            }
        }
        
        function click(r, c) {
            if (board[r][c] === turn) {
                selected = {r, c};
                render();
            } else if (selected) {
                const dr = r - selected.r, dc = c - selected.c;
                if (Math.abs(dr) === 1 && Math.abs(dc) === 1 && !board[r][c]) {
                    board[r][c] = board[selected.r][selected.c];
                    board[selected.r][selected.c] = null;
                    turn = turn === 'red' ? 'black' : 'red';
                    selected = null;
                    render();
                    if (turn === 'black') setTimeout(aiMove, 300);
                } else if (Math.abs(dr) === 2 && Math.abs(dc) === 2 && !board[r][c]) {
                    const mr = selected.r + dr / 2, mc = selected.c + dc / 2;
                    if (board[mr][mc] && board[mr][mc] !== turn) {
                        board[r][c] = board[selected.r][selected.c];
                        board[selected.r][selected.c] = null;
                        board[mr][mc] = null;
                        turn = turn === 'red' ? 'black' : 'red';
                        selected = null;
                        render();
                        if (turn === 'black') setTimeout(aiMove, 300);
                    }
                }
            }
        }
        
        function aiMove() {
            const pieces = [];
            for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) if (board[r][c] === 'black') pieces.push({r, c});
            if (pieces.length === 0) return;
            
            const p = pieces[Math.floor(Math.random() * pieces.length)];
            const moves = [[p.r+1,p.c+1],[p.r+1,p.c-1]].filter(([r,c]) => r<8 && c>=0 && c<8 && !board[r][c]);
            if (moves.length > 0) {
                const [nr, nc] = moves[Math.floor(Math.random() * moves.length)];
                board[nr][nc] = 'black';
                board[p.r][p.c] = null;
            }
            turn = 'red';
            render();
        }
        
        newGame();
    </script>
</body>
</html>