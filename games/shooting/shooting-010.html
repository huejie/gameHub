<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰“é£ç¢Ÿ - GameHub100</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
        }
        .header { padding: 15px; text-align: center; }
        h1 { font-size: 1.8rem; }
        .game-container { position: relative; }
        canvas { border: 3px solid #f39c12; border-radius: 10px; cursor: crosshair; }
        .stats { display: flex; gap: 20px; margin: 10px 0; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.5rem; font-weight: bold; color: #f39c12; }
        .controls { display: flex; gap: 10px; margin-top: 10px; }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: #f39c12;
            color: #2d3436;
            font-weight: bold;
        }
        button:hover { background: #f1c40f; }
        .back-link { position: fixed; top: 10px; left: 10px; color: #f39c12; text-decoration: none; }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-link">â† è¿”å›</a>
    <div class="header">
        <h1>ğŸ¥ æ‰“é£ç¢Ÿ</h1>
        <p>ç‚¹å‡»å°„å‡»é£è¡Œçš„é£ç¢Ÿï¼</p>
    </div>
    <div class="stats">
        <div class="stat"><div class="stat-value" id="score">0</div><div>å¾—åˆ†</div></div>
        <div class="stat"><div class="stat-value" id="hits">0</div><div>å‘½ä¸­</div></div>
        <div class="stat"><div class="stat-value" id="time">60</div><div>æ—¶é—´</div></div>
    </div>
    <div class="game-container">
        <canvas id="gameCanvas" width="500" height="400"></canvas>
    </div>
    <div class="controls">
        <button onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
        <button onclick="resetGame()">é‡æ–°å¼€å§‹</button>
    </div>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        let discs = [], particles = [];
        let score = 0, hits = 0, timeLeft = 60;
        let gameRunning = false, gameTimer = null;
        
        class Disc {
            constructor() {
                this.direction = Math.random() > 0.5 ? 1 : -1;
                this.x = this.direction === 1 ? -40 : canvas.width + 40;
                this.y = 80 + Math.random() * 200;
                this.speedX = (3 + Math.random() * 3) * this.direction;
                this.speedY = -2 + Math.random() * 4;
                this.rotation = 0;
                this.size = 25 + Math.random() * 15;
                this.points = Math.ceil(100 / this.size);
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.speedY += 0.02; // slight gravity
                this.rotation += 0.15;
            }
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);
                
                // Disc body
                ctx.fillStyle = '#e74c3c';
                ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size * 0.3, 0, 0, Math.PI * 2);
                ctx.fill();
                
                // Highlight
                ctx.fillStyle = '#c0392b';
                ctx.beginPath();
                ctx.ellipse(0, -2, this.size * 0.7, this.size * 0.15, 0, 0, Math.PI);
                ctx.fill();
                
                ctx.restore();
            }
            isHit(x, y) {
                const dx = this.x - x;
                const dy = this.y - y;
                return Math.sqrt(dx*dx + dy*dy) < this.size;
            }
        }
        
        class Particle {
            constructor(x, y) {
                this.x = x; this.y = y;
                this.vx = (Math.random() - 0.5) * 8;
                this.vy = (Math.random() - 0.5) * 8;
                this.life = 1;
                this.size = 3 + Math.random() * 5;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.2;
                this.life -= 0.03;
            }
            draw() {
                ctx.globalAlpha = this.life;
                ctx.fillStyle = '#e74c3c';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.globalAlpha = 1;
            }
        }
        
        function spawnDisc() {
            if (Math.random() < 0.03) {
                discs.push(new Disc());
            }
        }
        
        function createExplosion(x, y) {
            for (let i = 0; i < 15; i++) {
                particles.push(new Particle(x, y));
            }
        }
        
        function drawBackground() {
            // Night sky
            const grad = ctx.createLinearGradient(0, 0, 0, canvas.height);
            grad.addColorStop(0, '#1a1a2e');
            grad.addColorStop(1, '#16213e');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Stars
            ctx.fillStyle = '#fff';
            for (let i = 0; i < 80; i++) {
                const x = (i * 73) % canvas.width;
                const y = (i * 47) % (canvas.height - 50);
                const size = (i % 3) * 0.5 + 0.5;
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Ground
            ctx.fillStyle = '#1a472a';
            ctx.fillRect(0, canvas.height - 40, canvas.width, 40);
            
            // Shooter
            ctx.fillStyle = '#34495e';
            ctx.beginPath();
            ctx.arc(60, canvas.height - 40, 20, Math.PI, 0);
            ctx.fill();
            ctx.fillRect(40, canvas.height - 40, 40, 40);
            
            // Gun
            ctx.fillStyle = '#2c3e50';
            ctx.fillRect(70, canvas.height - 50, 30, 8);
        }
        
        function updateGame() {
            if (!gameRunning) return;
            
            drawBackground();
            spawnDisc();
            
            discs = discs.filter(d => 
                d.x > -50 && d.x < canvas.width + 50 && 
                d.y < canvas.height
            );
            discs.forEach(d => { d.update(); d.draw(); });
            
            particles = particles.filter(p => p.life > 0);
            particles.forEach(p => { p.update(); p.draw(); });
            
            requestAnimationFrame(updateGame);
        }
        
        canvas.addEventListener('click', e => {
            if (!gameRunning) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left) * (canvas.width / rect.width);
            const y = (e.clientY - rect.top) * (canvas.height / rect.height);
            
            // Muzzle flash
            ctx.fillStyle = '#f39c12';
            ctx.beginPath();
            ctx.arc(100, canvas.height - 46, 10, 0, Math.PI * 2);
            ctx.fill();
            
            for (let i = discs.length - 1; i >= 0; i--) {
                if (discs[i].isHit(x, y)) {
                    createExplosion(discs[i].x, discs[i].y);
                    score += discs[i].points;
                    hits++;
                    discs.splice(i, 1);
                    document.getElementById('score').textContent = score;
                    document.getElementById('hits').textContent = hits;
                    break;
                }
            }
        });
        
        function startGame() {
            if (gameRunning) return;
            score = 0; hits = 0; timeLeft = 60;
            discs = []; particles = [];
            gameRunning = true;
            document.getElementById('score').textContent = '0';
            document.getElementById('hits').textContent = '0';
            document.getElementById('time').textContent = '60';
            updateGame();
            
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('time').textContent = timeLeft;
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }
        
        function endGame() {
            gameRunning = false;
            clearInterval(gameTimer);
            setTimeout(() => {
                alert(`æ¸¸æˆç»“æŸï¼\nå¾—åˆ†: ${score}\nå‘½ä¸­: ${hits}`);
            }, 100);
        }
        
        function resetGame() {
            clearInterval(gameTimer);
            gameRunning = false;
            startGame();
        }
        
        drawBackground();
    </script>
</body>
</html>