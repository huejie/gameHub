<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆè¯­æ¥é¾™ - GameHub100</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            padding: 20px;
        }
        .header { text-align: center; margin-bottom: 20px; }
        h1 { font-size: 2rem; }
        .game-box {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            color: #2d3436;
        }
        .current-word {
            font-size: 2.5rem;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            color: white;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .last-char {
            display: inline-block;
            padding: 5px 15px;
            background: #e74c3c;
            border-radius: 5px;
            font-size: 1.5rem;
            margin-top: 10px;
        }
        .input-area {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        input {
            flex: 1;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #ff6b6b;
            border-radius: 10px;
        }
        input:focus { outline: none; border-color: #feca57; }
        button {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background: #ff6b6b;
            color: white;
            font-weight: bold;
        }
        button:hover { background: #ee5a5a; }
        .stats { display: flex; justify-content: space-around; margin: 20px 0; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.5rem; font-weight: bold; color: #ff6b6b; }
        .history {
            max-height: 150px;
            overflow-y: auto;
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .history-item {
            padding: 5px 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            font-size: 0.9rem;
        }
        .message {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .message.success { background: #d4edda; color: #155724; }
        .message.error { background: #f8d7da; color: #721c24; }
        .hint-btn {
            background: #feca57;
            color: #2d3436;
            margin-top: 10px;
        }
        .back-link {
            position: fixed;
            top: 15px;
            left: 15px;
            color: white;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <a href="../../index.html" class="back-link">â† è¿”å›</a>
    <div class="header">
        <h1>ğŸ“– æˆè¯­æ¥é¾™</h1>
        <p>ç”¨ä¸Šä¸€ä¸ªæˆè¯­çš„æœ€åä¸€ä¸ªå­—å¼€å¤´</p>
    </div>
    <div class="game-box">
        <div class="stats">
            <div class="stat"><div class="stat-value" id="score">0</div><div>å¾—åˆ†</div></div>
            <div class="stat"><div class="stat-value" id="chain">0</div><div>æ¥é¾™</div></div>
            <div class="stat"><div class="stat-value" id="hints">3</div><div>æç¤º</div></div>
        </div>
        <div class="current-word">
            <div>å½“å‰æˆè¯­</div>
            <div id="currentIdiom" style="font-size:2rem;margin:10px 0;">è¯·å¼€å§‹</div>
            <div class="last-char" id="lastChar">å¼€</div>
        </div>
        <div class="input-area">
            <input type="text" id="userInput" placeholder="è¾“å…¥æˆè¯­..." maxlength="8">
            <button onclick="submitIdiom()">ç¡®è®¤</button>
        </div>
        <div class="message" id="message"></div>
        <div class="history" id="history"></div>
        <div style="text-align:center;">
            <button class="hint-btn" onclick="showHint()">è·å–æç¤º (-10åˆ†)</button>
            <button class="hint-btn" onclick="skipWord()">è·³è¿‡</button>
        </div>
    </div>
    <script>
        const idioms = [
            'ä¸€å¿ƒä¸€æ„', 'æ„æ°”é£å‘', 'å‘æ„¤å›¾å¼º', 'å¼ºè¯å¤ºç†', 'ç†ç›´æ°”å£®',
            'å£®å¿—å‡Œäº‘', 'äº‘å¼€é›¾æ•£', 'æ•£å…µæ¸¸å‹‡', 'å‹‡å¾€ç›´å‰', 'å‰é€”æ— é‡',
            'é‡åŠ›è€Œè¡Œ', 'è¡Œä¹‹æœ‰æ•ˆ', 'æ•ˆçŠ¬é©¬åŠ³', 'åŠ³è‹¦åŠŸé«˜', 'é«˜ç»è¿œç©',
            'ç©ç›®è€Œè§†', 'è§†æ­»å¦‚å½’', 'å½’å¿ƒä¼¼ç®­', 'ç®­åœ¨å¼¦ä¸Š', 'ä¸Šå–„è‹¥æ°´',
            'æ°´è½çŸ³å‡º', 'å‡ºäººå¤´åœ°', 'åœ°å¤§ç‰©åš', 'åšå¤é€šä»Š', 'ä»Šéæ˜”æ¯”',
            'æ¯”ç¿¼åŒé£', 'é£é»„è…¾è¾¾', 'è¾¾å®˜è´µäºº', 'äººå±±äººæµ·', 'æµ·é˜”å¤©ç©º',
            'ç©ºå‰ç»å', 'åæ¥å±…ä¸Š', 'ä¸Šè¡Œä¸‹æ•ˆ', 'æ•ˆæ­»ç–†åœº', 'åœºåœºçˆ†æ»¡',
            'æ»¡é¢çº¢å…‰', 'å…‰æ˜ç£Šè½', 'è½äº•ä¸‹çŸ³', 'çŸ³ç ´å¤©æƒŠ', 'æƒŠå¤©åŠ¨åœ°',
            'åœ°ä¹…å¤©é•¿', 'é•¿é©±ç›´å…¥', 'å…¥æœ¨ä¸‰åˆ†', 'åˆ†ç§’å¿…äº‰', 'äº‰å…ˆæå',
            'åç”Ÿå¯ç•', 'ç•é¦–ç•å°¾', 'å°¾å¤§ä¸æ‰', 'æ‰ä»¥è½»å¿ƒ', 'å¿ƒæ—·ç¥æ€¡',
            'æ€¡ç„¶è‡ªå¾—', 'å¾—å¿ƒåº”æ‰‹', 'æ‰‹åˆ°æ“’æ¥', 'æ¥æ—¥æ–¹é•¿', 'é•¿ç¯‡å¤§è®º',
            'è®ºåŠŸè¡Œèµ', 'èµå¿ƒæ‚¦ç›®', 'ç›®ä¸è½¬ç›', 'ç›æ˜çœ¼äº®', 'äº®å‰‘å‡ºé˜',
            'é˜ä¸­å®å‰‘', 'å‰‘æ‹”å¼©å¼ ', 'å¼ å† ææˆ´', 'æˆ´æœˆæŠ«æ˜Ÿ', 'æ˜Ÿç«ç‡åŸ',
            'åŸåŸæœ¬æœ¬', 'æœ¬æœ«å€’ç½®', 'ç½®ä¹‹åº¦å¤–', 'å¤–å¼ºä¸­å¹²', 'å¹²å‡€åˆ©è½',
            'è½èŠ±æµæ°´', 'æ°´æ»´çŸ³ç©¿', 'ç©¿é’ˆå¼•çº¿', 'çº¿æ–­é£ç­', 'ç­é¸£ç‘Ÿåº”',
            'åº”æœ‰å°½æœ‰', 'æœ‰å£çš†ç¢‘', 'ç¢‘ç«‹ä¼ å', 'åå‚é’å²', 'å²æ— å‰ä¾‹'
        ];
        
        let currentChar = 'å¼€';
        let score = 0;
        let chain = 0;
        let hints = 3;
        let usedIdioms = [];
        let history = [];
        
        function findIdiomStartWith(char) {
            return idioms.filter(id => 
                id[0] === char && !usedIdioms.includes(id)
            );
        }
        
        function submitIdiom() {
            const input = document.getElementById('userInput');
            const message = document.getElementById('message');
            const idiom = input.value.trim();
            
            if (idiom.length !== 4) {
                message.className = 'message error';
                message.textContent = 'è¯·è¾“å…¥å››å­—æˆè¯­ï¼';
                return;
            }
            
            if (idiom[0] !== currentChar) {
                message.className = 'message error';
                message.textContent = `æˆè¯­å¿…é¡»ä»¥"${currentChar}"å¼€å¤´ï¼`;
                return;
            }
            
            if (!idioms.includes(idiom)) {
                message.className = 'message error';
                message.textContent = 'è¿™ä¸æ˜¯æœ‰æ•ˆçš„æˆè¯­ï¼';
                return;
            }
            
            if (usedIdioms.includes(idiom)) {
                message.className = 'message error';
                message.textContent = 'è¿™ä¸ªæˆè¯­å·²ç»ç”¨è¿‡äº†ï¼';
                return;
            }
            
            // Correct!
            usedIdioms.push(idiom);
            history.push(idiom);
            chain++;
            score += 10 + chain * 2;
            currentChar = idiom[3];
            
            message.className = 'message success';
            message.textContent = 'âœ“ æ­£ç¡®ï¼ç»§ç»­ï¼';
            
            document.getElementById('currentIdiom').textContent = idiom;
            document.getElementById('lastChar').textContent = currentChar;
            document.getElementById('score').textContent = score;
            document.getElementById('chain').textContent = chain;
            
            updateHistory();
            input.value = '';
            
            // Check if possible to continue
            if (findIdiomStartWith(currentChar).length === 0) {
                message.className = 'message error';
                message.textContent = 'æ— æ³•ç»§ç»­ï¼æ¸¸æˆç»“æŸï¼';
            }
        }
        
        function updateHistory() {
            const historyDiv = document.getElementById('history');
            historyDiv.innerHTML = history.slice(-10).map(id => 
                `<div class="history-item">${id}</div>`
            ).join('');
            historyDiv.scrollTop = historyDiv.scrollHeight;
        }
        
        function showHint() {
            if (hints <= 0) {
                alert('æ²¡æœ‰æç¤ºæ¬¡æ•°äº†ï¼');
                return;
            }
            
            const available = findIdiomStartWith(currentChar);
            if (available.length === 0) {
                alert('æ²¡æœ‰å¯ç”¨çš„æˆè¯­äº†ï¼');
                return;
            }
            
            const hint = available[0];
            alert(`æç¤º: ${hint[0]}_ _ _`);
            hints--;
            score = Math.max(0, score - 10);
            document.getElementById('hints').textContent = hints;
            document.getElementById('score').textContent = score;
        }
        
        function skipWord() {
            const available = findIdiomStartWith(currentChar);
            if (available.length > 0) {
                currentChar = available[0][3];
                usedIdioms.push(available[0]);
                document.getElementById('lastChar').textContent = currentChar;
                chain = 0;
                document.getElementById('chain').textContent = chain;
            }
        }
        
        document.getElementById('userInput').addEventListener('keypress', e => {
            if (e.key === 'Enter') submitIdiom();
        });
        
        // Start
        document.getElementById('lastChar').textContent = currentChar;
    </script>
</body>
</html>