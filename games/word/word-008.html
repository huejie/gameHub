<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥å­é‡ç»„ - GameHub100</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: white;
            padding: 20px;
        }
        .header { text-align: center; margin-bottom: 20px; }
        h1 { font-size: 2rem; }
        .game-box {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 25px;
            max-width: 550px;
            width: 100%;
            color: #2d3436;
        }
        .sentence-area {
            min-height: 80px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin: 15px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }
        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
            min-height: 60px;
        }
        .word {
            padding: 10px 18px;
            background: #e84393;
            color: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1.1rem;
        }
        .word:hover { transform: scale(1.05); background: #fd79a8; }
        .word.used { opacity: 0.3; pointer-events: none; }
        .word.in-sentence { background: #00b894; }
        .stats { display: flex; justify-content: space-around; margin: 15px 0; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.5rem; font-weight: bold; color: #e84393; }
        .controls { display: flex; justify-content: center; gap: 10px; margin-top: 15px; }
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: #e84393;
            color: white;
            font-weight: bold;
        }
        button:hover { background: #fd79a8; }
        .message {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .message.success { background: #d4edda; color: #155724; }
        .message.error { background: #f8d7da; color: #721c24; }
        .hint { text-align: center; color: #636e72; margin: 10px 0; font-style: italic; }
        .back-link { position: fixed; top: 15px; left: 15px; color: white; text-decoration: none; }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">â† è¿”å›</a>
    <div class="header">
        <h1>ğŸ“ å¥å­é‡ç»„</h1>
        <p>å°†è¯è¯­æ’åˆ—æˆæ­£ç¡®çš„å¥å­</p>
    </div>
    <div class="game-box">
        <div class="stats">
            <div class="stat"><div class="stat-value" id="score">0</div><div>å¾—åˆ†</div></div>
            <div class="stat"><div class="stat-value" id="level">1</div><div>å…³å¡</div></div>
            <div class="stat"><div class="stat-value" id="streak">0</div><div>è¿èƒœ</div></div>
        </div>
        <p class="hint" id="hint">ç‚¹å‡»è¯è¯­ç»„æˆå¥å­</p>
        <div class="sentence-area" id="sentenceArea">
            <span style="color:#95a5a6">ç‚¹å‡»ä¸‹æ–¹è¯è¯­...</span>
        </div>
        <div class="word-bank" id="wordBank"></div>
        <div class="message" id="message"></div>
        <div class="controls">
            <button onclick="checkSentence()">æ£€æŸ¥</button>
            <button onclick="clearSentence()">æ¸…ç©º</button>
            <button onclick="nextSentence()">è·³è¿‡</button>
        </div>
    </div>
    <script>
        const sentences = [
            {words: ['æˆ‘', 'å–œæ¬¢', 'åƒ', 'è‹¹æœ'], correct: 'æˆ‘å–œæ¬¢åƒè‹¹æœ', hint: 'è¡¨è¾¾å–œå¥½'},
            {words: ['ä»Šå¤©', 'å¤©æ°”', 'å¾ˆ', 'å¥½'], correct: 'ä»Šå¤©å¤©æ°”å¾ˆå¥½', hint: 'æè¿°å¤©æ°”'},
            {words: ['ä»–', 'æ­£åœ¨', 'è¯»ä¹¦'], correct: 'ä»–æ­£åœ¨è¯»ä¹¦', hint: 'æ­£åœ¨åšçš„åŠ¨ä½œ'},
            {words: ['æˆ‘ä»¬', 'ä¸€èµ·', 'å»', 'å…¬å›­'], correct: 'æˆ‘ä»¬ä¸€èµ·å»å…¬å›­', hint: 'é›†ä½“æ´»åŠ¨'},
            {words: ['è¿™ä¸ª', 'è‹¹æœ', 'å¾ˆ', 'ç”œ'], correct: 'è¿™ä¸ªè‹¹æœå¾ˆç”œ', hint: 'æè¿°å‘³é“'},
            {words: ['å¥¹', 'æ¯å¤©', 'æ—©ä¸Š', 'è·‘æ­¥'], correct: 'å¥¹æ¯å¤©æ—©ä¸Šè·‘æ­¥', hint: 'æ—¥å¸¸ä¹ æƒ¯'},
            {words: ['å°çŒ«', 'åœ¨', 'ç¡è§‰'], correct: 'å°çŒ«åœ¨ç¡è§‰', hint: 'åŠ¨ç‰©çŠ¶æ€'},
            {words: ['çˆ¸çˆ¸', 'ç»™æˆ‘', 'ä¹°äº†', 'ç©å…·'], correct: 'çˆ¸çˆ¸ç»™æˆ‘ä¹°äº†ç©å…·', hint: 'æ”¶åˆ°ç¤¼ç‰©'},
            {words: ['æ˜¥å¤©', 'æ¥äº†', 'èŠ±å„¿', 'å¼€äº†'], correct: 'æ˜¥å¤©æ¥äº†èŠ±å„¿å¼€äº†', hint: 'å­£èŠ‚å˜åŒ–'},
            {words: ['æˆ‘çˆ±', 'æˆ‘çš„', 'å®¶äºº'], correct: 'æˆ‘çˆ±æˆ‘çš„å®¶äºº', hint: 'è¡¨è¾¾æƒ…æ„Ÿ'},
            {words: ['å¤ªé˜³', 'ä»', 'ä¸œæ–¹', 'å‡èµ·'], correct: 'å¤ªé˜³ä»ä¸œæ–¹å‡èµ·', hint: 'è‡ªç„¶ç°è±¡'},
            {words: ['å°é¸Ÿ', 'åœ¨', 'æ ‘ä¸Š', 'å”±æ­Œ'], correct: 'å°é¸Ÿåœ¨æ ‘ä¸Šå”±æ­Œ', hint: 'åŠ¨ç‰©æ´»åŠ¨'},
        ];
        
        let currentSentence = null;
        let selectedWords = [];
        let score = 0;
        let level = 1;
        let streak = 0;
        let usedSentences = [];
        
        function shuffleArray(arr) {
            const shuffled = [...arr];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }
        
        function getRandomSentence() {
            const available = sentences.filter(s => !usedSentences.includes(s.correct));
            if (available.length === 0) {
                usedSentences = [];
                return sentences[Math.floor(Math.random() * sentences.length)];
            }
            return available[Math.floor(Math.random() * available.length)];
        }
        
        function displayWords() {
            const wordBank = document.getElementById('wordBank');
            const shuffled = shuffleArray(currentSentence.words);
            wordBank.innerHTML = '';
            
            shuffled.forEach((word, index) => {
                const span = document.createElement('span');
                span.className = 'word';
                span.textContent = word;
                span.dataset.index = index;
                span.onclick = () => selectWord(word, span);
                wordBank.appendChild(span);
            });
        }
        
        function selectWord(word, element) {
            if (element.classList.contains('used')) return;
            
            element.classList.add('used');
            selectedWords.push({word, element});
            updateSentenceArea();
        }
        
        function updateSentenceArea() {
            const area = document.getElementById('sentenceArea');
            if (selectedWords.length === 0) {
                area.innerHTML = '<span style="color:#95a5a6">ç‚¹å‡»ä¸‹æ–¹è¯è¯­...</span>';
            } else {
                area.innerHTML = selectedWords.map((item, idx) => 
                    `<span class="word in-sentence" onclick="removeWord(${idx})">${item.word}</span>`
                ).join('');
            }
        }
        
        function removeWord(index) {
            const removed = selectedWords.splice(index, 1)[0];
            removed.element.classList.remove('used');
            updateSentenceArea();
        }
        
        function checkSentence() {
            const message = document.getElementById('message');
            const userSentence = selectedWords.map(item => item.word).join('');
            
            if (userSentence === currentSentence.correct) {
                message.className = 'message success';
                message.textContent = 'âœ“ æ­£ç¡®ï¼';
                score += currentSentence.words.length * 10 + streak * 5;
                streak++;
                
                if (streak % 5 === 0) level++;
                
                document.getElementById('score').textContent = score;
                document.getElementById('streak').textContent = streak;
                document.getElementById('level').textContent = level;
                
                setTimeout(nextSentence, 1500);
            } else {
                message.className = 'message error';
                message.textContent = 'âœ— é¡ºåºä¸å¯¹ï¼Œå†è¯•è¯•ï¼';
                streak = 0;
                document.getElementById('streak').textContent = streak;
            }
        }
        
        function clearSentence() {
            selectedWords.forEach(item => item.element.classList.remove('used'));
            selectedWords = [];
            updateSentenceArea();
            document.getElementById('message').textContent = '';
            document.getElementById('message').className = 'message';
        }
        
        function nextSentence() {
            currentSentence = getRandomSentence();
            usedSentences.push(currentSentence.correct);
            selectedWords = [];
            
            document.getElementById('hint').textContent = 'æç¤º: ' + currentSentence.hint;
            document.getElementById('message').textContent = '';
            document.getElementById('message').className = 'message';
            
            displayWords();
            updateSentenceArea();
        }
        
        nextSentence();
    </script>
</body>
</html>